<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>消费录入</title>
  <style>
    :root{ --bg:#f6f7fb; --card:#fff; --bd:#e6e8ef; --txt:#111827; --muted:#6b7280; --pri:#2563eb; --danger:#ef4444; }
    body{ margin:0; font-family:system-ui,-apple-system,"Segoe UI",Roboto,"PingFang SC","Microsoft YaHei",sans-serif; background:var(--bg); color:var(--txt); }
    .wrap{ max-width:1200px; margin:18px auto; padding:0 14px; }
    .topbar{ display:flex; justify-content:space-between; align-items:center; gap:12px; margin-bottom:12px; }
    .title{ font-size:18px; font-weight:700; }
    .btn{ border:1px solid var(--bd); background:#fff; padding:8px 12px; border-radius:10px; cursor:pointer; }
    .btn.primary{ background:var(--pri); border-color:var(--pri); color:#fff; }
    .btn.danger{ background:var(--danger); border-color:var(--danger); color:#fff; }
    .btn.small{ padding:6px 10px; border-radius:8px; font-size:12px; }
    .card{ background:var(--card); border:1px solid var(--bd); border-radius:16px; padding:14px; box-shadow:0 1px 2px rgba(0,0,0,.04); }
    .grid{ display:grid; gap:10px; }
    .grid.filters{ grid-template-columns: 130px 150px 150px 170px 200px 1fr auto auto; align-items:end; }
    .grid.add{ grid-template-columns: 150px 160px 160px 200px 1fr 160px 1fr auto; align-items:end; margin-top:10px; }
    label{ display:block; font-size:12px; color:var(--muted); margin-bottom:6px; }
    input,select{ width:100%; box-sizing:border-box; padding:10px 12px; border:1px solid var(--bd); border-radius:12px; outline:none; background:#fff; }
    input:focus,select:focus{ border-color:#c7d2fe; box-shadow:0 0 0 3px rgba(99,102,241,.12); }
    table{ width:100%; border-collapse:separate; border-spacing:0; margin-top:12px; }
    thead th{ text-align:left; font-size:12px; color:var(--muted); padding:10px 8px; border-bottom:1px solid var(--bd); background:#fafbff; position:sticky; top:0; }
    tbody td{ padding:10px 8px; border-bottom:1px solid var(--bd); vertical-align:middle; }
    .muted{ color:var(--muted); }
    .row-actions{ display:flex; gap:8px; }
    .toast{ position:fixed; left:50%; bottom:18px; transform:translateX(-50%); background:#111827; color:#fff; padding:10px 14px; border-radius:999px; opacity:0; pointer-events:none; transition:.2s; }
    .toast.show{ opacity:1; }
    .right{ display:flex; gap:10px; align-items:center; }
    @media (max-width: 1100px){
      .grid.filters{ grid-template-columns: 1fr 1fr 1fr 1fr; }
      .grid.add{ grid-template-columns: 1fr 1fr; }
      .right{ width:100%; justify-content:flex-end; }
    }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="topbar">
      <div class="title">消费录入（按天 / 按版位）</div>
      <div class="right">
        <button class="btn" id="btnReload">刷新</button>
        <a class="btn" href="./view.html">返回线索</a>
      </div>
    </div>

    <div class="card">
      <!-- 筛选区 -->
      <div class="grid filters">
        <div>
          <label>快捷日期</label>
          <select id="quickDate">
            <option value="all">全部</option>
            <option value="today">今天</option>
            <option value="yesterday">昨天</option>
            <option value="7">近7天</option>
            <option value="30">近30天</option>
          </select>
        </div>

        <div>
          <label>开始</label>
          <input type="date" id="startDate" />
        </div>

        <div>
          <label>结束</label>
          <input type="date" id="endDate" />
        </div>

        <div>
          <label>市场</label>
          <select id="fMarket"></select>
        </div>

        <div>
          <label>来源</label>
          <select id="fSource"></select>
        </div>

        <div>
          <label>广告类型</label>
          <select id="fAdType"></select>
        </div>

        <div>
          <label>关键词（版位/备注）</label>
          <input id="fKeyword" placeholder="例如：小红书 / FB-新疆 / 6D5N..." />
        </div>

        <button class="btn primary" id="btnQuery">查询</button>
        <button class="btn" id="btnReset">重置</button>
      </div>

      <!-- 新增区（按天/按版位录） -->
      <div class="grid add">
        <div>
          <label>日期</label>
          <input type="date" id="aDate" />
        </div>

        <div>
          <label>市场</label>
          <select id="aMarket"></select>
        </div>

        <div>
          <label>来源</label>
          <select id="aSource"></select>
        </div>

        <div>
          <label>广告类型（联动）</label>
          <select id="aAdType"></select>
        </div>

        <div>
          <label>消费版位（自由输入）</label>
          <input id="aPosition" placeholder="例：FB-新疆-6D5N-管家式 / XHS-张家界-避坑攻略" />
        </div>

        <div>
          <label>消费金额</label>
          <input id="aCost" type="number" step="0.01" placeholder="例如：35.50" />
        </div>

        <div>
          <label>备注</label>
          <input id="aRemark" placeholder="可选" />
        </div>

        <button class="btn primary" id="btnAdd">新增</button>
      </div>

      <!-- 表格 -->
      <table>
        <thead>
          <tr>
            <th style="width:70px;">ID</th>
            <th style="width:140px;">日期</th>
            <th style="width:120px;">市场</th>
            <th style="width:110px;">来源</th>
            <th style="width:140px;">广告类型</th>
            <th>消费版位</th>
            <th style="width:140px;">金额</th>
            <th>备注</th>
            <th style="width:170px;">操作</th>
          </tr>
        </thead>
        <tbody id="tbody"></tbody>
      </table>
    </div>
  </div>

  <div id="toast" class="toast">OK</div>
  <script src="./costs.js"></script>
</body>
</html>
